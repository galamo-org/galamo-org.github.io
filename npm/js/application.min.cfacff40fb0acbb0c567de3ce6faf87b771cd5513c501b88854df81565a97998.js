popped="state"in window.history,initialURL=location.href;const baseURLPrefix=(()=>{const e=Array.from(document.getElementsByTagName("script")).pop().getAttribute("src");return e.replace(/^(?:[a-z]*:\/\/[^/]*)?(.*\/)(assets|js)\/[^/]+.js(\?.*)?$/,"$1")})();$(document).ready(function(){BrowserFallbacks.init(),DarkMode.init(),GitTurns20.init(),Search.init(),Dropdowns.init(),Forms.init(),Downloads.init(),DownloadBox.init(),PostelizeAnchor.init()});function onPopState(e){if(window.history&&window.history.pushState)return $(window).bind("popstate",function(){var n;if(initialPop=!popped&&location.href===initialURL,popped=!0,initialPop)return;e()})}var DownloadBox={init:function(){$("#gui-os-filter").addClass("visible");var e=window.session.browser.os;e=="Mac"?($(".monitor").addClass("mac"),$("#download-link").text("Download for Mac").attr("href",`${baseURLPrefix}downloads/mac`),$("#gui-link").removeClass("mac").addClass("gui"),$("#gui-link").text("Mac GUIs").attr("href",`${baseURLPrefix}downloads/guis?os=mac`),$("#gui-os-filter").attr("data-os","mac"),$("#gui-os-filter").text("Only show GUIs for my OS (Mac)")):e=="Windows"?($(".monitor").addClass("windows"),$("#download-link").text("Download for Windows").attr("href",`${baseURLPrefix}downloads/win`),$("#gui-link").removeClass("mac").addClass("gui"),$("#gui-link").text("Windows GUIs").attr("href",`${baseURLPrefix}downloads/guis?os=windows`),$("#alt-link").removeClass("windows").addClass("mac"),$("#alt-link").text("Mac Build").attr("href",`${baseURLPrefix}downloads/mac`),$("#gui-os-filter").attr("data-os","windows"),$("#gui-os-filter").text("Only show GUIs for my OS (Windows)")):e=="Linux"&&($(".monitor").addClass("linux"),$("#download-link").text("Download for Linux").attr("href",`${baseURLPrefix}downloads/linux`),$("#gui-link").removeClass("mac").addClass("gui"),$("#gui-link").text("Linux GUIs").attr("href",`${baseURLPrefix}downloads/guis?os=linux`),$("#alt-link").removeClass("windows").addClass("mac"),$("#alt-link").text("Mac Build").attr("href",`${baseURLPrefix}downloads/mac`),$("#gui-os-filter").attr("data-os","linux"),$("#gui-os-filter").text("Only show GUIs for my OS (Linux)"))}},BrowserFallbacks={init:function(){BrowserFallbacks.initPlaceholders()},initPlaceholders:function(){Modernizr.input.placeholder||$("input[placeholder], textarea[placeholder]").each(function(){$(this).defaultValue($(this).attr("placeholder"),"active","inactive")})}},GitTurns20={keySequence:"20",keySequenceOffset:0,init:function(){const e=new Date;if(e.getFullYear()===2025&&e.getMonth()===3&&e.getDate()===7)this.celebrate();else{let t=0,e=0;$("#tagline").click(n=>{e===0||n.timeStamp>t+e*1e3?(t=n.timeStamp,e=1):++e===6&&(this.celebrate(),e=0)})}},keydown:function(e){if(this.keySequenceOffset>=this.keySequence.length)return;this.keySequence[this.keySequenceOffset]===e.key&&++this.keySequenceOffset===this.keySequence.length&&(this.celebrate(),this.keySequenceOffset=0)},celebrate:function(){document.documentElement.dataset.celebration="git-turns-20",$("#tagline").html('<a href="https://discord.gg/UcjvsNQR">--20th-anniversary</a>'),$("#masthead").length&&(async()=>{await import("https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js");const e=200,t={origin:{y:.7},disableForReducedMotion:!0};for(const[n,s]of[[.25,{spread:26,startVelocity:55}],[.2,{spread:60}],[.35,{spread:100,decay:.91,scalar:.8}],[.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}],[.1,{spread:120,startVelocity:45}]])window.confetti({...t,...s,particleCount:Math.floor(e*n)})})().catch(console.error)}},Search={searching:!1,currentSearch:"",selectedIndex:0,init:function(){Search.displayFullSearchResults(),Search.observeFocus(),Search.observeTextEntry(),Search.observeResultsClicks(),Search.installKeyboardShortcuts()},observeFocus:function(){$("form#search input").focus(function(){$(this).parent("form#search").switchClass("","focus",200)}),$("form#search input").blur(function(){Search.resetForm()})},observeTextEntry:function(){$("form#search input").keyup(function(){Search.runSearch()}),$("form#search input").keydown(function(e){switch($("#search-results").not(":visible")&&e.which!=27&&($("#search-results").fadeIn(.2),Search.highlight(Search.selectedIndex)),e.which){case 13:return Search.selectResultOption(),!1;break;case 27:Search.resetForm();break;case 38:e.preventDefault(),Search.resultsNav("up");break;case 40:e.preventDefault(),Search.resultsNav("down");break}})},observeResultsClicks:function(){$("#search-results").mousedown(function(e){e.preventDefault()})},installKeyboardShortcuts:function(){$(document).keydown(function(e){e.target.tagName.toUpperCase()!=="INPUT"&&["s","S","/"].includes(e.key)?(e.preventDefault(),$("form#search input").focus()):e.target.tagName.toUpperCase()!=="INPUT"&&GitTurns20.keydown(e)})},runSearch:function(){var e=$("#search-text").val();if(e.length<2)return!1;Search.searching?(clearTimeout(Search.timeout),Search.timeout=setTimeout(function(){Search.searching=!1,Search.runSearch()},300)):(Search.searching=!0,e!=Search.currentSearch&&(Search.currentSearch=e,$("#search-results").html(`
          <header> Search Results </header>
          <table>
            <tbody>
              <tr class="show-all">
               <td class="category"> &nbsp; </td>
                <td class="matches">
                  <ul>
                    <li>
                      <a class="highlight" id="show-results-label">Searching for <span id="search-term">&nbsp;</span>...</a>
                    </li>
                  </ul>
                </td>
              </tr>
              <tr style="display:none">
                <td class="category">Reference</td>
                <td class="matches">
                  <ul id="ul-reference"></ul>
                </td>
              </tr>
              <tr style="display:none">
                <td class="category">Book</td>
                <td class="matches">
                  <ul id="ul-book"></ul>
                </td>
              </tr>
              <tr id="row-any">
                <td class="category"> &nbsp; </td>
                <td class="matches">
                  <ul>
                    <li><button id="load-more-results">Loading</button></li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>
        `),$("#search-term").text(e),this.initializeSearchIndex(async()=>{const t=await Search.pagefind.debouncedSearch(e);if(t===null)return;if(t.results.length===0){$("#show-results-label").text("No matching pages found.");return}const a=document.querySelector("html")?.getAttribute("lang");$("#show-results-label").text("Show all results...").attr("href",`${baseURLPrefix}search/results?search=${e}${a&&`&language=${a}`}`);const n=$("#load-more-results");n.text(`Loading ${t.results.length<2?"result":`${t.results.length} results`}`),n.loading=!1;const o=$("#ul-reference"),i=$("#ul-book"),c=10;let s=0;const l=e=>{for(;e<s&&typeof t.results[e].data=="object";){const n=t.results[e++];n.data.meta.category==="Reference"?(o.children().length===0&&o.parent().parent().css("display","table-row"),o.append(n.li)):n.data.meta.category==="Book"&&(i.children().length===0&&i.parent().parent().css("display","table-row"),i.append(n.li))}},r=()=>{if(n.loading||s>=t.results.length)return;n.loading=!0;const o=s+c;for(;s<o;){const e=t.results[s];if(e.li=$("<li><a>&hellip;</a></li>"),e.li.insertBefore(n),(async n=>{e.data=await t.results[s].data(),(!n||typeof t.results[n-1].data=="object")&&l(n),e.data.meta.title=e.data.meta.title.replace(/^Git - (.*) Documentation$/,"$1"),e.data.url=e.data.url.replace(/\.html$/,""),e.li.html(`<a href = "${e.data.url}">${e.data.meta.title}</a>`)})(s).catch(t=>{console.log(t),e.li.html(`<i>Error loading result</i>`)}),++s>=t.results.length){n.remove();return}}const e=t.results.length-s;n.text(`Load ${e} more ${e<2?"result":"results"}`),n.loading=!1};r(),n.on("click",r),Search.searching=!1})))},selectResultOption:function(){var e=$("#search-results a")[Search.selectedIndex],t=$(e).attr("href");window.location.href=t,selectedIndex=0},resultsNav:function(e){Search.selectedIndex+=e=="down"?1:-1,Search.highlight(Search.selectedIndex)},highlight:function(e){var t=$("#search-results a").removeClass("highlight");$(t[e]).addClass("highlight")},resetForm:function(){$("form#search").switchClass("focus","",200),$("#search-results").fadeOut(.2),Search.selectedIndex=0},getQueryValue:function(e){const n=window.location.search.substring(1),t=`${e}=`;return n.split("&").filter(e=>e.startsWith(t)).map(e=>decodeURIComponent(e.substring(t.length).replace(/\+/g,"%20"))).pop()},initializeSearchIndex:function(e){if(Search.pagefind){e().catch(console.log);return}(async()=>{const s=`${baseURLPrefix}pagefind/pagefind.js`.replace(/^\.\//,"../");Search.pagefind=await import(s);const t={ranking:{pageLength:.1,termFrequency:.1,termSaturation:2,termSimilarity:9}},n=this.getQueryValue("language");n&&(t.language=n),await Search.pagefind.options(t),await Search.pagefind.init(),await e()})().catch(console.log)},displayFullSearchResults:function(){if(!$("#search-div").length)return;const t=this.getQueryValue("language"),n=new PagefindUI({element:"#search-div",showEmptyFilters:!1,showSubResults:!0,showImages:!1,language:t,ranking:{pageLength:.1,termFrequency:.1,termSaturation:2,termSimilarity:9},processResult:function(e){return e.url=e.url.replace(/\.html$/,""),e}}),e=this.getQueryValue("search");e&&($("#search-div input").val(e),n.triggerSearch(e))}},Dropdowns={init:function(){Dropdowns.observeTriggers()},observeTriggers:function(){var e=$(".dropdown-trigger");e.click(function(t){t.preventDefault(),$(this).toggleClass("active"),$("#"+$(this).attr("data-panel-id")).toggle(),e.each((e,t)=>{if(t===this)return;$(t).removeClass("active"),$("#"+$(t).attr("data-panel-id")).hide()})})}},Forms={init:function(){Forms.observeCopyableInputs()},observeCopyableInputs:function(){$("input.copyable").click(function(){$(this).select()})}},Downloads={init:function(){Downloads.observeGUIOSFilter(),Downloads.observePopState(),Downloads.filterGUIS(),Downloads.postProcessDownloadPage()},getOSFromQueryString:function(){const t=window.location.search.substring(1),e=`os=`;return t.split("&").filter(t=>t.startsWith(e)).map(t=>decodeURIComponent(t.substring(e.length).replace(/\+/g,"%20"))).pop()},getOSFilter:function(e){return e=e||Downloads.getOSFromQueryString(),e==="linux"||e==="mac"||e==="windows"||e==="android"||e==="ios"?e:""},capitalizeOS:function(e){const t={linux:"Linux",mac:"Mac",windows:"Windows",android:"Android",ios:"iOS"};return t[e]},filterGUIS:function(e){var n,t=Downloads.getOSFilter(e),s=Downloads.capitalizeOS(t);$("a.gui-os-filter").not("[data-os='"+t+"']").removeClass("selected"),$("a.gui-os-filter").filter("[data-os='"+t+"']").addClass("selected"),t===""?($("ul.gui-thumbnails li").removeClass("masked"),$("#os-filter-count").hide()):($("ul.gui-thumbnails li").filter("."+t).removeClass("masked"),$("ul.gui-thumbnails li").not("."+t).addClass("masked"),n=$("ul.gui-thumbnails li."+t).length,$("#os-filter-count strong").html(n),$("#os-filter-count .os").html(s),$("#os-filter-count").show())},observeGUIOSFilter:function(){$("a.gui-os-filter").click(function(e){e.preventDefault();var n,t=$(this).attr("data-os");if(window.history&&window.history.pushState){n=t===""?`${baseURLPrefix}downloads/guis`:`${baseURLPrefix}downloads/guis?os=${t}`;try{history.pushState(null,$(this).html(),n)}catch(e){`${e}`.indexOf("The operation is insecure")<0&&console.log(e)}}Downloads.filterGUIS(t)})},observePopState:function(){onPopState(function(){Downloads.filterGUIS()})},postProcessReleaseDate:function(e,t){const n=Math.floor((Date.now()-Date.parse($("#auto-download-date").html()))/864e5);if(n<0)return t;const o=(e,t)=>`${e} ${t}${e>1?"s":""} ago`;let s=o(n,"day");const i=(e,t)=>{const n=Math.floor(e),s=e-n;return s<.25?`about ${o(n,t)}`:s<.75?`over ${o(n,t)}`:`almost ${o(n+1,t)}`};return n==0?s="today":n==1?s="yesterday":n>365*.75?s=i(n/365.25,"year"):n>45&&(s=i(n/30.4,"month")),`<strong>${s}</strong>, `},adjustForWindowsARM64:function(){if(!navigator.userAgentData)return;navigator.userAgentData.getHighEntropyValues(["architecture","platform","bitness"]).then(function(e){if(e.platform!=="Windows"||e.bitness!=="64"||e.architecture!=="arm")return;const t=$("#auto-download-link"),n=$("#auto-download-version"),s=$("#auto-download-architecture"),o=$("#auto-download-date");t.length&&n.length&&s.length&&o.length&&(s.html("ARM64"),t.attr("href","https://github.com/git-for-windows/git/releases/download/v2.49.0.windows.1/Git-2.49.0-arm64.exe"),n.html("2.49.0"),o.html("2025-03-17"))})},postProcessDownloadPage:function(){Downloads.adjustForWindowsARM64(),$("#relative-release-date").html(Downloads.postProcessReleaseDate)}},DarkMode={init:function(){const e=$("#dark-mode-button");if(!e.length)return;const t=window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme");(t&&n!=="light"||!t&&n==="dark")&&e.attr("src",`${baseURLPrefix}images/light-mode.svg`),e.css("display","block"),e.click(function(n){n.preventDefault();let s;t?s=document.documentElement.dataset.theme==="light"?"dark":"light":s=document.documentElement.dataset.theme==="dark"?"light":"dark",document.documentElement.dataset.theme=s,t===(s==="dark")?localStorage.removeItem("theme"):localStorage.setItem("theme",s),e.attr("src",`${baseURLPrefix}images/${s==="dark"?"light":"dark"}-mode.svg`)})}},PostelizeAnchor={init:function(){const e=window.location.hash;if(!e||!e.startsWith("#")||e.length<2||document.querySelector(CSS.escape(e))!==null)return;const t=e.slice(1),n=t.length/2,o=[...document.querySelectorAll("[id]")].map(e=>e.id),s=o.reduce((e,s)=>{const o=PostelizeAnchor.wuLevenshtein(t,s,n);return o<e.d&&(e.d=o,e.id=s),e},{d:n}).id;s&&(window.location.hash=`#${s}`)},wuLevenshtein:function(e,t,n){const o=e.length,s=t.length;if(o===0)return s;if(s===0)return o;const a=o+s+1,i=new Array(a).fill(0),r=s;n===void 0&&(n=o+s);for(let a=0;a<n;a++)for(let c=Math.max(-s,-a);c<=o&&c<=a;c+=2){const l=c+r;let n;c===-a||c!==a&&i[l-1]<i[l+1]?n=i[l+1]:n=i[l-1]+1;let d=n-c;for(;n<o&&d<s&&e[n]===t[d];)n++,d++;if(i[l]=n,n>=o&&d>=s)return a}return n}};$("#scrollToTop").removeClass("no-js"),$(window).scroll(function(){$(this).scrollTop()>150?$("#scrollToTop").fadeIn():$("#scrollToTop").fadeOut()}),$("#scrollToTop").click(function(e){return e.preventDefault(),$("html, body").animate({scrollTop:0},"slow"),!1})